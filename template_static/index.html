<!DOCTYPE html>
<html>
  <head>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <title>Hello world</title>
      <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css">
      <link rel="stylesheet" href="/style/style.css"/>
      <script src="/lib/jquery-2.1.1.min.js"></script>
      <script src="/lib/core.js"></script>
      <script src="/js/fake.js"></script>
      <script src="/js/user.js"></script>
      <script>
          var current = 'home';
          $(document).ready(function() {
              $('#home').removeClass('screen');
          });

          function goto(page) {
              $('#' + current).addClass('screen');
              $('#' + page).removeClass('screen');
              current = page;
          }

          function loadAdminScreen() {
              $.post('/admin', JSON.stringify({}))
          }

          function adminPage(page) {
              $.post('/admin/page', JSON.stringify({page: page}))
          }


      </script>
      <script src="/js/events.js"></script>
  </head>
<body>
    <div class="row">
    <div id="photo" class="col-md-4 group">
        <div style="width:466;height:350px;text-align:center;margin:auto;" ><object width="466" height="350" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"  codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"> <param name="flashvars" value="offsite=true&amp;lang=en-us&amp;page_show_url=%2Fphotos%2Fsvstress%2Fshow&amp;page_show_back_url=%2Fphotos%2Fsvstress%2F&amp;user_id=63809364@N05" /> <param name="allowFullScreen" value="false" /> <param name="src" value="https://www.flickr.com/apps/slideshow/show.swf?v=71649" /> <embed width="466" height="350" type="application/x-shockwave-flash" src="https://www.flickr.com/apps/slideshow/show.swf?v=71649" flashvars="offsite=true&amp;lang=en-us&amp;page_show_url=%2Fphotos%2Fsvstress%2Fshow&amp;page_show_back_url=%2Fphotos%2Fsvstress%2F&amp;user_id=63809364@N05" allowFullScreen="false" /> </object><br /></div>
    </div>
    <div id="home" class="col-md-4 group">
        <h4>Please scan your card</h4>
        <i>or click here to log in.</i>
        <ul>
            <li><a href="#" onclick="goto('login')">Login with username and password (not functional)</a></li>
            <li><a href="#" onclick="fakeScan(0)">Fake scan uid (0, admin)</a></li>
            <li><a href="#" onclick="fakeScan(1)">Fake scan uid (1, student 1)</a></li>
            <li><a href="#" onclick="fakeScan(2)">Fake scan uid (2, unkown card)</a></li>
        </ul>
    </div>
    <div id="newUser" class="col-md-4 group screen">
        <h4>Register as a new user (todo errors)</h4>
        <form>
            <div class="form-group">
                <label for="register_name">Name</label>
                <input placeholder="Name" type="text" id="register_name" class="form-control" /><br />
            </div>
            <div class="form-group">
                <label for="register_studentnr">Studentnumber</label>
                <input placeholder="s1234567" type="text" id="register_studentnr" class="form-control"/><br />
            </div>
            <div class="form-group">
                <label for="register_password">Password</label>
                <input placeholder="password" type="password" id="register_password" class="form-control" /><br />
            </div>
                <button onClick="register()" class="btn btn-primary">Register</button><br />
        </form>
        <br />
        <a href="#" href="#" onclick="goto('home')">go back</a>
    </div>
    <div id="login" class="col-md-4 group screen">
        <h1>Please enter your student number and password (not functional)</h1>
        <form>
            <div class="form-group">
                <label for="studentnr">Studentnumber</label>
                <input placeholder="s1234567" type="text" id="studentnr" class="form-control"/><br />
            </div>
            <div class="form-group">
                <label for="password">Password</label>
                <input placeholder="password" type="password" id="password" class="form-control" /><br />
            </div>
                <button class="btn btn-primary">Login</button><br />
        </form>
        <br />
        <a href="#" href="#" onclick="goto('home')">go back</a>
    </div>
    <div id="authenticated" class="col-md-4 group screen">
        <h1>Welcome back</h1>
        Page when logged in..
        <ul>
            <li id="authenticated_name"></li>
            <li id="authenticated_sid"></li>
            <li id="authenticated_type"></li>
            <li id="authenticated_balance"></li>
        </ul>
        <br />
        <a href="#" href="#" onclick="logout()">Logout</a>
    </div>
    <div id="admin_link" class="col-md-4 group screen">
        <a href="#" onClick="loadAdminScreen()">Admin Panel</a>
    </div>
    <div id="admin" class="screen">
        Whoohoo admin screen<br />
        <ul>
            <li><a href="#" onClick="adminPage('adminList')">Admin list</a></li>
            <li><a href="#" onClick="adminPage('userList')">User list</a></li>
            <li><a href="#" onClick="adminPage('keyList')">Key list</a></li>
            <li><a href="#" onClick="adminPage('productList')">Product list</a></li>
            <li><a href="#" onClick="adminPage('productAdd')">Add Product</a></li>
        </ul>
        <div id="adminList" class="screen"><h1>admin list</h1></div>
        <div id="userList" class="screen"><h1>user list</h1></div>
        <div id="keyList" class="screen"><h1>key list</h1></div>
        <div id="productList" class="screen"><h1>product list</h1></div>
        <div id="productAdd" class="screen"><h1>product Add</h1></div>
        <a href="#" href="#" onclick="logout()">Logout</a>
    </div>
    </div>
    <script src="/bootstrap/js/bootstrap.min.js"></script>
    <script>
        // Event to show new user screen (unknown card)
        block('#newUser').newUser();
        events.connect('newUser', '#newUser')
        // Event when user is authenticated
        block('#authenticated').authenticatedUser();
        events.connect('authenticated', '#authenticated')
        // Event when user is logged out
        block('#home').logoutUser();
        events.connect('logout', '#home')
        // Event when admin panel should load
        block('#admin').admin();
        events.connect('admin', '#admin')
        block('#admin').adminpage();
        events.connect('adminpage', '#admin')
    </script>
</body>
</html>